(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();let a;function p(n,r){const t=n.coords.latitude,s=n.coords.longitude,e=n.timestamp,o=r.coords.latitude,c=r.coords.longitude,u=r.timestamp,m=6371,i=(o-t)*Math.PI/180,l=(c-s)*Math.PI/180,d=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t*Math.PI/180)*Math.cos(o*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2),f=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),g=m*f,h=u-e;return g/(h/1e3)}navigator.permissions.query({name:"geolocation"}).then(()=>{const n=document.querySelector("#app"),r=document.querySelector("#log");navigator.geolocation.getCurrentPosition(t=>{a=t}),navigator.geolocation.watchPosition(t=>{if(r!==null&&(r.innerHTML+=`timestamp: ${t.timestamp}<br />latitude: ${t.coords.latitude}<br />longitude: ${t.coords.longitude}<br />navigator speed: ${t.coords.speed}`),a===void 0){a=t;return}const s=p(a,t);n!==null&&(n.innerHTML=`calculated speed: ${s.toFixed(2)}`)},t=>{r!==null&&(r.innerHTML+=`error: ${t.message}<br />`)},{enableHighAccuracy:!0,timeout:0,maximumAge:0})});
